data modify storage lbc.math amp set value 0
data modify storage lbc.math dur set value 15
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:fire_resistance"}}}}] run data modify storage lbc.math id set value "minecraft:fire_resistance"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:harming"}}}}] run data modify storage lbc.math id set value "minecraft:instant_damage"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:healing"}}}}] run data modify storage lbc.math id set value "minecraft:instant_health"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:invisibility"}}}}] run data modify storage lbc.math id set value "minecraft:invisibility"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:leaping"}}}}] run data modify storage lbc.math id set value "minecraft:jump_boost"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_fire_resistance"}}}}] run data modify storage lbc.math id set value "minecraft:fire_resistance"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_invisibility"}}}}] run data modify storage lbc.math id set value "minecraft:invisibility"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_leaping"}}}}] run data modify storage lbc.math id set value "minecraft:jump_boost"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_night_vision"}}}}] run data modify storage lbc.math id set value "minecraft:night_vision"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_poison"}}}}] run data modify storage lbc.math id set value "minecraft:poison"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_regeneration"}}}}] run data modify storage lbc.math id set value "minecraft:regeneration"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_slow_falling"}}}}] run data modify storage lbc.math id set value "minecraft:slow_falling"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_slowness"}}}}] run data modify storage lbc.math id set value "minecraft:slowness"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_strength"}}}}] run data modify storage lbc.math id set value "minecraft:strength"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_swiftness"}}}}] run data modify storage lbc.math id set value "minecraft:speed"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_turtle_master"}}}}] run data modify storage lbc.math id set value "minecraft:resistance"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_water_breathing"}}}}] run data modify storage lbc.math id set value "minecraft:water_breathing"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_weakness"}}}}] run data modify storage lbc.math id set value "minecraft:weakness"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:luck"}}}}] run data modify storage lbc.math id set value "minecraft:luck"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:night_vision"}}}}] run data modify storage lbc.math id set value "minecraft:night_vision"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:poison"}}}}] run data modify storage lbc.math id set value "minecraft:poison"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:regeneration"}}}}] run data modify storage lbc.math id set value "minecraft:regeneration"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:slow_falling"}}}}] run data modify storage lbc.math id set value "minecraft:slow_falling"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:slowness"}}}}] run data modify storage lbc.math id set value "minecraft:slowness"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strength"}}}}] run data modify storage lbc.math id set value "minecraft:strength"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_harming"}}}}] run data modify storage lbc.math id set value "minecraft:instant_damage"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_healing"}}}}] run data modify storage lbc.math id set value "minecraft:instant_health"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_leaping"}}}}] run data modify storage lbc.math id set value "minecraft:jump_boost"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_poison"}}}}] run data modify storage lbc.math id set value "minecraft:poison"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_regeneration"}}}}] run data modify storage lbc.math id set value "minecraft:regeneration"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_slowness"}}}}] run data modify storage lbc.math id set value "minecraft:slowness"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_strength"}}}}] run data modify storage lbc.math id set value "minecraft:strength"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_swiftness"}}}}] run data modify storage lbc.math id set value "minecraft:speed"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_turtle_master"}}}}] run data modify storage lbc.math id set value "minecraft:resistance"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:swiftness"}}}}] run data modify storage lbc.math id set value "minecraft:speed"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:turtle_master"}}}}] run data modify storage lbc.math id set value "minecraft:resistance"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:water_breathing"}}}}] run data modify storage lbc.math id set value "minecraft:water_breathing"
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:weakness"}}}}] run data modify storage lbc.math id set value "minecraft:weakness"

execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_harming"}}}}] run data modify storage lbc.math amp set value 1
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_healing"}}}}] run data modify storage lbc.math amp set value 1
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_leaping"}}}}] run data modify storage lbc.math amp set value 1
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_poison"}}}}] run data modify storage lbc.math amp set value 1
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_regeneration"}}}}] run data modify storage lbc.math amp set value 1
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_slowness"}}}}] run data modify storage lbc.math amp set value 1
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_strength"}}}}] run data modify storage lbc.math amp set value 1
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_swiftness"}}}}] run data modify storage lbc.math amp set value 1
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:strong_turtle_master"}}}}] run data modify storage lbc.math amp set value 1

execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_fire_resistance"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_invisibility"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_leaping"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_night_vision"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_poison"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_regeneration"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_slow_falling"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_slowness"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_strength"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_swiftness"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_turtle_master"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_water_breathing"}}}}] run data modify storage lbc.math dur set value 30
execute if entity @e[type=#arrows,distance=..2,limit=1,sort=nearest,nbt={item:{components:{"minecraft:potion_contents":{potion:"minecraft:long_weakness"}}}}] run data modify storage lbc.math dur set value 30

tag @s add have_effects