execute store result score #random53 lbc.math run random value 1..54
tag @s add raycaster
scoreboard players set @s Distance 0

execute if score #random53 lbc.math matches 1 run function lbc:workingitems/basscast
execute if score #random53 lbc.math matches 2 run function lbc:workingitems/bloodmagic
execute if score #random53 lbc.math matches 3 run function lbc:workingitems/corrupter
execute if score #random53 lbc.math matches 4 run function lbc:workingitems/endcast
execute if score #random53 lbc.math matches 5 run function lbc:workingitems/evokercast
execute if score #random53 lbc.math matches 6 run function lbc:workingitems/foxuscast
execute if score #random53 lbc.math matches 7 run function lbc:workingitems/lifestealer
execute if score #random53 lbc.math matches 8 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/unstable_spellbook/raycast_loop
execute if score #random53 lbc.math matches 9 anchored eyes positioned ^ ^ ^ run function lbcr:raycast_loop2
execute if score #random53 lbc.math matches 10 anchored eyes positioned ^ ^ ^ run function lbcr:raycast_loop3
execute if score #random53 lbc.math matches 11 anchored eyes positioned ^ ^ ^ run function lbcr:raycast_loop4
execute if score #random53 lbc.math matches 12 anchored eyes positioned ^ ^ ^ run function lbcr:raycast_loop5

execute if score #random53 lbc.math matches 13 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/unstable_spellbook/raycast_loop16
execute if score #random53 lbc.math matches 14 anchored eyes positioned ^ ^ ^ run function lbcr:raycast_preloop7_2

execute if score #random53 lbc.math matches 15 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/unstable_spellbook/raycast_loop8
execute if score #random53 lbc.math matches 16 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/unstable_spellbook/raycast_loop9
execute if score #random53 lbc.math matches 17 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/unstable_spellbook/raycast_loop10
execute if score #random53 lbc.math matches 18 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/unstable_spellbook/raycast_loop11
execute if score #random53 lbc.math matches 19 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/unstable_spellbook/raycast_loop12
execute if score #random53 lbc.math matches 20 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/unstable_spellbook/raycast_loop13
execute if score #random53 lbc.math matches 21 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/unstable_spellbook/raycast_loop14
execute if score #random53 lbc.math matches 22 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/unstable_spellbook/raycast_loop15

execute if score #random53 lbc.math matches 23 anchored eyes positioned ^ ^ ^ run function lbcr:raycast_loop8
execute if score #random53 lbc.math matches 24 anchored eyes positioned ^ ^ ^ run function lbcr:raycast_loop9
execute if score #random53 lbc.math matches 25 run function lbc:workingitems/psychowand
execute if score #random53 lbc.math matches 26 anchored eyes positioned ^ ^ ^ run function lbcr:raycast_preloop10
execute if score #random53 lbc.math matches 27 anchored eyes positioned ^ ^ ^ run function lbcr:raycast_preloop11
execute if score #random53 lbc.math matches 28 run function lbc:workingitems/neutralmage/select
execute if score #random53 lbc.math matches 29 anchored eyes positioned ^ ^ ^ run function lbcr:raycast_lightning
execute if score #random53 lbc.math matches 30 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/sauvojen_staffs/acid_preloop
execute if score #random53 lbc.math matches 31 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/sauvojen_staffs/air_preloop
execute if score #random53 lbc.math matches 32 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/sauvojen_staffs/blind_preloop
execute if score #random53 lbc.math matches 33 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/sauvojen_staffs/electro_preloop
execute if score #random53 lbc.math matches 34 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/sauvojen_staffs/fire_preloop
execute if score #random53 lbc.math matches 35 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/sauvojen_staffs/ruby_preloop
execute if score #random53 lbc.math matches 36 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/sauvojen_staffs/stone_preloop
execute if score #random53 lbc.math matches 37 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/sauvojen_staffs/teleport_preloop
execute if score #random53 lbc.math matches 38 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/sauvojen_staffs/terra_preloop
execute if score #random53 lbc.math matches 39 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/exoperso
execute if score #random53 lbc.math matches 40 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/awaken_tuntija_wands/acidacid/click2
execute if score #random53 lbc.math matches 41 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/awaken_tuntija_wands/acidcorrupt/loop
execute if score #random53 lbc.math matches 42 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/awaken_tuntija_wands/avarice/click2
execute if score #random53 lbc.math matches 43 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/awaken_tuntija_wands/boltbolt/loop
execute if score #random53 lbc.math matches 44 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/awaken_tuntija_wands/consuming_wand_loop
execute if score #random53 lbc.math matches 45 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/awaken_tuntija_wands/erecto/click2
execute if score #random53 lbc.math matches 46 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/awaken_tuntija_wands/exahoming_click_loop
execute if score #random53 lbc.math matches 47 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/awaken_tuntija_wands/exasperato/click2
execute if score #random53 lbc.math matches 48 run function lbc:workingitems/awaken_tuntija_wands/fireblaze/click2
execute if score #random53 lbc.math matches 49 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/awaken_tuntija_wands/psychoblind/click2
execute if score #random53 lbc.math matches 50 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/awaken_tuntija_wands/stonekivi/loop
execute if score #random53 lbc.math matches 51 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/gaycaster/ray/cast2
execute if score #random53 lbc.math matches 52 anchored eyes positioned ^ ^ ^ run function lbc:workingitems/ice_wand/projectile/cast
execute if score #random53 lbc.math matches 53 run scoreboard players add @s danmaku 20

execute if score #random53 lbc.math matches 54 run function lbc:workingitems/random_spell_lol
execute if entity @s[nbt={SelectedItem:{components:{"minecraft:custom_data":{upgradable:1}}}}] run function lbc:workingitems/random_spell_check

playsound minecraft:item.book.page_turn master @s ~ ~ ~ 10
tag @s remove raycaster
scoreboard players operation @s mana -= unstable_spellbook_mana_use lbc.math
scoreboard players operation @s[nbt={Inventory:[{components:{"minecraft:custom_data":{mage:1}},Slot:100b},{components:{"minecraft:custom_data":{mage:1}},Slot:101b},{components:{"minecraft:custom_data":{mage:1}},Slot:102b},{components:{"minecraft:custom_data":{mage:1}},Slot:103b}]}] manamax += mage_set_bonus lbc.math
execute if score #lbctrinket swrg.math matches 1.. run function lbc:items/trinket_effects/cast_wand